steps:
  - checkout: self
    fetchDepth: 0
  - script: |
      git config user.email "yuji.hamaguchi@avanade.com"
      git config user.name "Yuji Hamaguchi"
      git remote add remote-repos https://$(PAT)@github.com/yujihamaguchi/little-physonista.git
      git fetch remote-repos
      git checkout -b $(System.PullRequest.SourceBranch)
      git pull --rebase origin $(System.PullRequest.SourceBranch)
      git push remote-repos $(System.PullRequest.SourceBranch):$(System.PullRequest.SourceBranch) --force
    displayName: 'Sync PR Source Branch Repository'
