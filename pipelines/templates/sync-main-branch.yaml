steps:
  - checkout: self
    fetchDepth: 0
  - script: |
      git config user.email "yuji.hamaguchi@avanade.com"
      git config user.name "Yuji Hamaguchi"
      git remote add remote-repos $(REMOTE_REPOSITORY_ADDRESS)
      git fetch remote-repos $(SYNC_BRANCH_NAME)
      git checkout -b $(SYNC_BRANCH_NAME)
      git pull --rebase origin $(SYNC_BRANCH_NAME)
      git push remote-repos $(SYNC_BRANCH_NAME):$(SYNC_BRANCH_NAME) --force
    displayName: 'Sync $(SYNC_BRANCH_NAME) branch with remote repository'
