steps:
  - checkout: self
    fetchDepth: 0
  - script: |
      git config user.email "yuji.hamaguchi@avanade.com"
      git config user.name "Yuji Hamaguchi"
      git remote add remote-repos $(REMOTE_REPOSITORY_ADDRESS)
      git fetch remote-repos
      git checkout -b $(System.PullRequest.SourceBranch)
      git pull --rebase origin $(System.PullRequest.SourceBranch)
      git push remote-repos $(System.PullRequest.SourceBranch):$(System.PullRequest.SourceBranch) --force
    displayName: 'Sync dev branch with remote repository'
